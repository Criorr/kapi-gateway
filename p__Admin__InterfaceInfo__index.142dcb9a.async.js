"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{84942:function(ue,W,s){s.r(W),s.d(W,{default:function(){return P}});var H=s(15009),t=s.n(H),X=s(97857),h=s.n(X),N=s(99289),f=s.n(N),T=s(5574),R=s.n(T),_=s(24969),x=s(75649),Z=s(1237),J=s(29052),A=s(91963),ee=s(32536),v=s(12461),D=s(71577),k=s(22763),C=s(67294),I=s(16770),z=s(85402),l=s(85893),Q=function(b){var M=b.visible,K=b.columns,S=b.onCancel,j=b.onSubmit;return(0,l.jsx)(z.Z,{visible:M,footer:null,onCancel:function(){return S==null?void 0:S()},children:(0,l.jsx)(Z.Z,{type:"form",columns:K,onSubmit:function(){var w=f()(t()().mark(function E(y){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:j==null||j(y);case 1:case"end":return O.stop()}},E)}));return function(E){return w.apply(this,arguments)}}()})})},G=Q,d=function(b){var M=b.values,K=b.visible,S=b.columns,j=b.onCancel,w=b.onSubmit,E=(0,C.useRef)();return(0,C.useEffect)(function(){if(E){var y;(y=E.current)===null||y===void 0||y.setFieldsValue(M)}},[M]),(0,l.jsx)(z.Z,{visible:K,footer:null,onCancel:function(){return j==null?void 0:j()},children:(0,l.jsx)(Z.Z,{type:"form",formRef:E,columns:S,onSubmit:function(){var y=f()(t()().mark(function L(O){return t()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:w==null||w(O);case 1:case"end":return F.stop()}},L)}));return function(L){return y.apply(this,arguments)}}()})})},c=d,m=function(){var b=(0,C.useState)(!1),M=R()(b,2),K=M[0],S=M[1],j=(0,C.useState)(!1),w=R()(j,2),E=w[0],y=w[1],L=(0,C.useState)(!1),O=R()(L,2),q=O[0],F=O[1],$=(0,C.useRef)(),se=(0,C.useState)(),ne=R()(se,2),g=ne[0],V=ne[1],ie=(0,C.useState)([]),re=R()(ie,2),B=re[0],ae=re[1],le=function(){var o=f()(t()().mark(function u(a){var i;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),e.prev=1,e.next=4,(0,I.Y4)(h()({},a));case 4:return i(),v.ZP.success("\u521B\u5EFA\u6210\u529F"),S(!1),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),i(),v.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+e.t0.message),e.abrupt("return",!1);case 15:case"end":return e.stop()}},u,null,[[1,10]])}));return function(a){return o.apply(this,arguments)}}(),oe=function(){var o=f()(t()().mark(function u(a){var i;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return i=v.ZP.loading("\u4FEE\u6539\u4E2D"),e.prev=3,e.next=6,(0,I.T7)(h()({id:g.id},a));case 6:return i(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),i(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}},u,null,[[3,11]])}));return function(a){return o.apply(this,arguments)}}(),de=function(){var o=f()(t()().mark(function u(a){var i,p;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=v.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,I.GC)({id:a.id});case 6:return i(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),(p=$.current)===null||p===void 0||p.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return o.apply(this,arguments)}}(),ce=function(){var o=f()(t()().mark(function u(a){var i,p;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=v.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,I.zr)({id:a.id});case 6:return i(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),(p=$.current)===null||p===void 0||p.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return o.apply(this,arguments)}}(),te=function(){var o=f()(t()().mark(function u(a){var i,p;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=v.ZP.loading("\u6B63\u5728\u5220\u9664"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,I.XG)({id:a.id});case 6:return i(),v.ZP.success("\u5220\u9664\u6210\u529F"),(p=$.current)===null||p===void 0||p.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),v.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return o.apply(this,arguments)}}(),Y=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"url",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(u,a){return[(0,l.jsx)("a",{onClick:function(){y(!0),V(a)},children:"\u4FEE\u6539"},"config"),a.status===0?(0,l.jsx)("a",{onClick:function(){de(a)},children:"\u53D1\u5E03"},"config"):null,a.status===1?(0,l.jsx)(D.Z,{type:"text",danger:!0,onClick:function(){ce(a)},children:"\u4E0B\u7EBF"},"config"):null,(0,l.jsx)(D.Z,{type:"text",danger:!0,onClick:function(){te(a)},children:"\u5220\u9664"},"config")]}}];return(0,l.jsxs)(x._z,{children:[(0,l.jsx)(Z.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:$,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,l.jsxs)(D.Z,{type:"primary",onClick:function(){S(!0)},children:[(0,l.jsx)(_.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var o=f()(t()().mark(function u(a,i,p){var e;return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,I.Kz)(h()({},a));case 2:if(e=U.sent,!(e!=null&&e.data)){U.next=7;break}return U.abrupt("return",{data:(e==null?void 0:e.data.records)||[],success:!0,total:(e==null?void 0:e.data.total)||0});case 7:return U.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return U.stop()}},u)}));return function(u,a,i){return o.apply(this,arguments)}}(),columns:Y,rowSelection:{onChange:function(u,a){ae(a)}}}),(B==null?void 0:B.length)>0&&(0,l.jsxs)(J.S,{extra:(0,l.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,l.jsx)("a",{style:{fontWeight:600},children:B.length})," ","\u9879 \xA0\xA0",(0,l.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",B.reduce(function(o,u){return o+u.callNo},0)," \u4E07"]})]}),children:[(0,l.jsx)(D.Z,{onClick:f()(t()().mark(function o(){var u,a;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,te(B);case 2:ae([]),(u=$.current)===null||u===void 0||(a=u.reloadAndRest)===null||a===void 0||a.call(u);case 4:case"end":return p.stop()}},o)})),children:"\u6279\u91CF\u5220\u9664"}),(0,l.jsx)(D.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,l.jsx)(c,{columns:Y,onSubmit:function(){var o=f()(t()().mark(function u(a){var i;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(a);case 2:i=e.sent,i&&(y(!1),V(void 0),$.current&&$.current.reload());case 4:case"end":return e.stop()}},u)}));return function(u){return o.apply(this,arguments)}}(),onCancel:function(){y(!1),q||V(void 0)},visible:E,values:g||{}}),(0,l.jsx)(k.Z,{width:600,visible:q,onClose:function(){V(void 0),F(!1)},closable:!1,children:(g==null?void 0:g.name)&&(0,l.jsx)(A.vY,{column:2,title:g==null?void 0:g.name,request:f()(t()().mark(function o(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:g||{}});case 1:case"end":return a.stop()}},o)})),params:{id:g==null?void 0:g.name},columns:Y})}),(0,l.jsx)(G,{columns:Y,onCancel:function(){S(!1)},onSubmit:function(u){le(u)},visible:K})]})},P=m},16770:function(ue,W,s){s.d(W,{GC:function(){return z},Kz:function(){return D},Lu:function(){return ee},T7:function(){return Q},US:function(){return J},XG:function(){return x},Y4:function(){return R},zr:function(){return C}});var H=s(15009),t=s.n(H),X=s(97857),h=s.n(X),N=s(99289),f=s.n(N),T=s(32536);function R(d,c){return _.apply(this,arguments)}function _(){return _=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/add",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),_.apply(this,arguments)}function x(d,c){return Z.apply(this,arguments)}function Z(){return Z=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/delete",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),Z.apply(this,arguments)}function J(d,c){return A.apply(this,arguments)}function A(){return A=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/get",h()({method:"GET",params:h()({},c)},m||{})));case 1:case"end":return n.stop()}},d)})),A.apply(this,arguments)}function ee(d,c){return v.apply(this,arguments)}function v(){return v=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/invoke",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),v.apply(this,arguments)}function D(d,c){return k.apply(this,arguments)}function k(){return k=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/list/page",h()({method:"GET",params:h()({},c)},m||{})));case 1:case"end":return n.stop()}},d)})),k.apply(this,arguments)}function C(d,c){return I.apply(this,arguments)}function I(){return I=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/offline",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),I.apply(this,arguments)}function z(d,c){return l.apply(this,arguments)}function l(){return l=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/online",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),l.apply(this,arguments)}function Q(d,c){return G.apply(this,arguments)}function G(){return G=f()(t()().mark(function d(c,m){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/interfaceinfo/update",h()({method:"POST",headers:{"Content-Type":"application/json"},data:c},m||{})));case 1:case"end":return n.stop()}},d)})),G.apply(this,arguments)}}}]);
